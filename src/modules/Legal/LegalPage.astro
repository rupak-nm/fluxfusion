---
import Hero from "@/components/Hero/Hero.astro";
import Container from "@/components/Container/Container.astro";
import TableOfContents from "../../components/TableOfContents/TableOfContents.astro";
import { tocData, data } from "@/data/legal.ts";
import Icon from "@/elements/Icon.astro";
---

<Hero className="legal">
  <h1 class="hero title">Legal</h1>
</Hero>

<Container className="legal contents">
  <button class="toc mobile" data-open>
    Table of Contents
    <Icon variant="chevron-right" size="lg" />
  </button>

  <TableOfContents links={tocData} />

  <div class="right">
    {
      data.map((item) => (
        <div class="item">
          <h2 class={item.isHeading ? "heading" : "title"} id={item.id}>
            {item.title}
          </h2>

          {item.description && (
            <div class="description">
              {item.description.map((desc) =>
                Array.isArray(desc) ? (
                  <ul>
                    {desc.map((li) => (
                      <li>{li}</li>
                    ))}
                  </ul>
                ) : (
                  <p>{desc}</p>
                )
              )}
            </div>
          )}
        </div>
      ))
    }
  </div>
</Container>
